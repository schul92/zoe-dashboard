<!DOCTYPE html>
<html lang="ko" class="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ZOE STUDIO | POD Operations</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <style>
    body { font-family: 'Inter', sans-serif; }
    .glass { background: rgba(255,255,255,0.03); backdrop-filter: blur(18px); border: 1px solid rgba(255,255,255,0.08); }
  </style>
</head>
<body class="bg-zinc-950 text-zinc-100 min-h-screen">
  <div class="max-w-7xl mx-auto p-4 sm:p-6 lg:p-8">
    <header class="mb-6 sm:mb-8">
      <div class="flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between">
        <div>
          <p class="text-xs uppercase tracking-widest text-fuchsia-400 font-semibold mb-1">Print-on-Demand</p>
          <h1 class="text-2xl sm:text-3xl font-extrabold">POD Operations Dashboard</h1>
          <p class="text-sm text-zinc-400 mt-1">Shopify + Etsy 병행 운영 기준의 주문/수익/자동화 모니터링</p>
        </div>
        <div class="flex gap-2">
          <a href="/zoe-dashboard/hub.html" class="px-4 py-2 rounded-lg border border-zinc-700 text-sm hover:border-zinc-500">Hub</a>
          <button id="refreshBtn" class="px-4 py-2 rounded-lg bg-fuchsia-600 text-sm hover:bg-fuchsia-500">Mock 새로고침</button>
        </div>
      </div>
    </header>

    <section class="glass rounded-xl p-5 mb-6">
      <div class="flex items-center justify-between mb-3">
        <h2 class="font-bold">Start Here · 순차 실행 (Step 1~5)</h2>
        <span class="text-xs text-zinc-400">초보자용 빠른 동선</span>
      </div>
      <ol class="grid sm:grid-cols-2 lg:grid-cols-5 gap-2 text-sm text-zinc-300 list-decimal list-inside">
        <li class="bg-zinc-900/70 rounded-lg p-3 border border-zinc-800"><b>Step 1</b><br>채널 로그인 확인<br><span class="text-zinc-500">Shopify/Etsy/Printify</span></li>
        <li class="bg-zinc-900/70 rounded-lg p-3 border border-zinc-800"><b>Step 2</b><br>첫 SKU 업로드<br><span class="text-zinc-500">티셔츠 1개부터</span></li>
        <li class="bg-zinc-900/70 rounded-lg p-3 border border-zinc-800"><b>Step 3</b><br>승인 게이트 적용<br><span class="text-zinc-500">Approve/Edit/Skip</span></li>
        <li class="bg-zinc-900/70 rounded-lg p-3 border border-zinc-800"><b>Step 4</b><br>주문/수익 모니터링<br><span class="text-zinc-500">KPI + Alerts</span></li>
        <li class="bg-zinc-900/70 rounded-lg p-3 border border-zinc-800"><b>Step 5</b><br>의사결정 루프<br><span class="text-zinc-500">Go / Hold / No-Go</span></li>
      </ol>
    </section>

    <section class="grid grid-cols-2 lg:grid-cols-6 gap-3 mb-6">
      <div class="glass rounded-xl p-4"><p class="text-xs text-zinc-500">Overview</p><p id="kpiTotalOrders" class="text-2xl font-bold mt-1">-</p><p class="text-xs text-zinc-400">총 주문(7일)</p></div>
      <div class="glass rounded-xl p-4"><p class="text-xs text-zinc-500">Orders</p><p id="kpiOpenOrders" class="text-2xl font-bold mt-1">-</p><p class="text-xs text-zinc-400">미처리 주문</p></div>
      <div class="glass rounded-xl p-4"><p class="text-xs text-zinc-500">Profit</p><p id="kpiProfit" class="text-2xl font-bold mt-1">-</p><p class="text-xs text-zinc-400">순이익(7일)</p></div>
      <div class="glass rounded-xl p-4"><p class="text-xs text-zinc-500">Channel Mix</p><p id="kpiShopifyMix" class="text-2xl font-bold mt-1">-</p><p class="text-xs text-zinc-400">Shopify 비중</p></div>
      <div class="glass rounded-xl p-4"><p class="text-xs text-zinc-500">Automation</p><p id="kpiAutomation" class="text-2xl font-bold mt-1">-</p><p class="text-xs text-zinc-400">자동 처리율</p></div>
      <div class="glass rounded-xl p-4"><p class="text-xs text-zinc-500">Alerts</p><p id="kpiAlerts" class="text-2xl font-bold mt-1">-</p><p class="text-xs text-zinc-400">주의 필요</p></div>
    </section>

    <section class="grid lg:grid-cols-3 gap-4 mb-6">
      <article class="glass rounded-xl p-5 lg:col-span-2">
        <h2 class="font-bold mb-3">Orders 상태</h2>
        <div id="ordersList" class="space-y-2 text-sm"></div>
      </article>
      <article class="glass rounded-xl p-5">
        <h2 class="font-bold mb-3">Automation Status</h2>
        <ul id="automationList" class="space-y-2 text-sm text-zinc-300"></ul>
      </article>
    </section>

    <section class="grid lg:grid-cols-2 gap-4 mb-6">
      <article class="glass rounded-xl p-5">
        <h2 class="font-bold mb-3">Profit Breakdown</h2>
        <div class="space-y-2 text-sm">
          <div class="flex justify-between"><span>매출</span><span id="rev"></span></div>
          <div class="flex justify-between"><span>상품원가(Printify)</span><span id="cogs"></span></div>
          <div class="flex justify-between"><span>채널 수수료(Shopify+Etsy)</span><span id="fees"></span></div>
          <div class="border-t border-zinc-800 pt-2 mt-2 flex justify-between font-semibold"><span>순이익</span><span id="net"></span></div>
        </div>
      </article>
      <article class="glass rounded-xl p-5">
        <h2 class="font-bold mb-3">Channel Mix</h2>
        <div class="space-y-3 text-sm">
          <div>
            <div class="flex justify-between mb-1"><span>Shopify</span><span id="shopifyPct"></span></div>
            <div class="h-2 bg-zinc-800 rounded"><div id="shopifyBar" class="h-2 bg-emerald-500 rounded"></div></div>
          </div>
          <div>
            <div class="flex justify-between mb-1"><span>Etsy</span><span id="etsyPct"></span></div>
            <div class="h-2 bg-zinc-800 rounded"><div id="etsyBar" class="h-2 bg-orange-500 rounded"></div></div>
          </div>
        </div>
      </article>
    </section>

    <section class="glass rounded-xl p-5">
      <h2 class="font-bold mb-3">Alerts</h2>
      <div id="alertsList" class="space-y-2 text-sm"></div>
    </section>
  </div>

  <script>
    const mock = {
      totalOrders7d: 42,
      openOrders: 6,
      revenue: 3180,
      cogs: 1590,
      fees: 822,
      netProfit: 768,
      channelMix: { shopify: 57, etsy: 43 },
      automationRate: 93,
      alertsCount: 3,
      orders: [
        { id: 'S-1042', channel: 'Shopify', status: 'in_production', eta: '2일' },
        { id: 'E-8821', channel: 'Etsy', status: 'pending_artwork', eta: '검수 필요' },
        { id: 'S-1040', channel: 'Shopify', status: 'fulfilled', eta: '완료' },
        { id: 'E-8817', channel: 'Etsy', status: 'on_hold', eta: '주소 확인' }
      ],
      automation: [
        '주문 수집: 5분 주기 정상',
        'SKU 매핑: 98% 성공',
        'Printify 주문 생성: 93% 자동 처리',
        '웹훅 수신 지연: 평균 12초'
      ],
      alerts: [
        'Etsy 주문 E-8821: 원본 파일 DPI 부족',
        'Printify shop 5432: production partner 응답 지연',
        'Shopify 2건: 고객 주소 포맷 재검증 필요'
      ]
    };

    function usd(v) { return `$${v.toLocaleString()}`; }

    function render(data) {
      document.getElementById('kpiTotalOrders').textContent = data.totalOrders7d;
      document.getElementById('kpiOpenOrders').textContent = data.openOrders;
      document.getElementById('kpiProfit').textContent = usd(data.netProfit);
      document.getElementById('kpiShopifyMix').textContent = `${data.channelMix.shopify}%`;
      document.getElementById('kpiAutomation').textContent = `${data.automationRate}%`;
      document.getElementById('kpiAlerts').textContent = data.alertsCount;

      document.getElementById('rev').textContent = usd(data.revenue);
      document.getElementById('cogs').textContent = `-${usd(data.cogs)}`;
      document.getElementById('fees').textContent = `-${usd(data.fees)}`;
      document.getElementById('net').textContent = usd(data.netProfit);

      document.getElementById('shopifyPct').textContent = `${data.channelMix.shopify}%`;
      document.getElementById('etsyPct').textContent = `${data.channelMix.etsy}%`;
      document.getElementById('shopifyBar').style.width = `${data.channelMix.shopify}%`;
      document.getElementById('etsyBar').style.width = `${data.channelMix.etsy}%`;

      document.getElementById('ordersList').innerHTML = data.orders.map(o =>
        `<div class="flex items-center justify-between bg-zinc-900/70 rounded-lg p-3 border border-zinc-800">
          <div><p class="font-medium">${o.id} · ${o.channel}</p><p class="text-zinc-400 text-xs">ETA: ${o.eta}</p></div>
          <span class="text-xs px-2 py-1 rounded bg-zinc-800">${o.status}</span>
        </div>`
      ).join('');

      document.getElementById('automationList').innerHTML = data.automation.map(a => `<li>• ${a}</li>`).join('');
      document.getElementById('alertsList').innerHTML = data.alerts.map(a => `<div class="p-3 rounded-lg bg-amber-500/10 border border-amber-500/20">⚠ ${a}</div>`).join('');
    }

    document.getElementById('refreshBtn').addEventListener('click', () => {
      const jitter = Math.floor(Math.random() * 4) - 2;
      const next = structuredClone(mock);
      next.totalOrders7d += jitter;
      next.openOrders = Math.max(1, next.openOrders + Math.floor(Math.random() * 3) - 1);
      next.netProfit += (Math.floor(Math.random() * 7) - 3) * 10;
      render(next);
    });

    render(mock);
  </script>
</body>
</html>